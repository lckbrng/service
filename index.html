<!DOCTYPE html>
<html lang="sv" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Johans Serviceguide</title>
    
    <!-- Typsnitt: Inter för en modern, professionell look -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        brand: {
                            50: '#f0f9ff',
                            100: '#e0f2fe',
                            400: '#38bdf8', // Ljusblå accent
                            500: '#0ea5e9', // Primär blå
                            600: '#0284c7',
                            900: '#0c4a6e',
                            950: '#082f49',
                        },
                        dark: {
                            900: '#0f172a', // Slate 900
                            950: '#020617', // Slate 950 (djupare)
                        }
                    }
                }
            }
        }
    </script>

    <style>
        /* Custom scrollbar för webkit */
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: #0f172a; }
        ::-webkit-scrollbar-thumb { background: #334155; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #475569; }

        /* Glassmorphism utility */
        .glass-panel {
            background: rgba(30, 41, 59, 0.4);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        .glass-input {
            background: rgba(15, 23, 42, 0.6);
            border: 1px solid rgba(56, 189, 248, 0.2);
            transition: all 0.3s ease;
        }
        .glass-input:focus {
            background: rgba(15, 23, 42, 0.9);
            border-color: #38bdf8;
            box-shadow: 0 0 0 4px rgba(56, 189, 248, 0.1);
            outline: none;
        }
    </style>
</head>
<body class="bg-dark-950 text-slate-300 font-sans antialiased min-h-screen bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-slate-900 via-dark-950 to-black">

    <!-- Navbar / Header -->
    <nav class="border-b border-white/5 bg-dark-950/50 backdrop-blur-md sticky top-0 z-50">
        <div class="container mx-auto px-4 py-4 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <!-- Logotyp-ikon -->
                <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-brand-500 to-brand-700 flex items-center justify-center text-white shadow-lg shadow-brand-500/20">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                    </svg>
                </div>
                <div>
                    <h1 class="text-xl font-bold text-white tracking-tight leading-none">Johans Serviceguide</h1>
                    <p class="text-xs text-slate-500 font-medium tracking-wide uppercase">Marin Data Portal</p>
                </div>
            </div>
            <!-- Statusindikator (Visuell) -->
            <div class="hidden sm:flex items-center gap-2 px-3 py-1 rounded-full bg-emerald-500/10 border border-emerald-500/20">
                <span class="relative flex h-2 w-2">
                  <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"></span>
                  <span class="relative inline-flex rounded-full h-2 w-2 bg-emerald-500"></span>
                </span>
                <span class="text-xs font-medium text-emerald-400">System Online</span>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main id="app-content" class="container mx-auto px-4 py-12 max-w-7xl">
        
        <!-- Hero & Search Section -->
        <div class="text-center max-w-3xl mx-auto mb-12">
            <h2 class="text-3xl md:text-5xl font-bold text-white mb-6 tracking-tight">
                Sök specifikationer för <br>
                <span class="text-transparent bg-clip-text bg-gradient-to-r from-brand-400 to-emerald-400">Motorer & Drev</span>
            </h2>
            
            <div class="relative group max-w-2xl mx-auto">
                <div class="absolute -inset-1 bg-gradient-to-r from-brand-500 to-emerald-500 rounded-2xl blur opacity-25 group-hover:opacity-50 transition duration-1000 group-hover:duration-200"></div>
                <div class="relative flex items-center">
                    <svg class="absolute left-4 w-6 h-6 text-slate-400 pointer-events-none" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
                    <input type="text" id="oil-search" placeholder="Sök modell (t.ex. D6-370, Alpha One, Yanmar 3YM...)" 
                        oninput="searchOil()"
                        class="glass-input w-full rounded-xl py-4 pl-14 pr-32 text-white placeholder-slate-500 text-lg shadow-2xl">
                    <div class="absolute right-2">
                        <kbd class="hidden md:inline-block px-2 py-1 text-xs font-semibold text-slate-500 bg-slate-800 rounded border border-slate-700">ESC to clear</kbd>
                    </div>
                </div>
            </div>
            
            <p class="mt-4 text-sm text-slate-500">
                Databasen innehåller Volvo Penta, Yanmar & Mercruiser. <span class="text-brand-400">Uppdateras kontinuerligt.</span>
            </p>
        </div>

        <!-- Data Display Section -->
        <div class="glass-panel rounded-2xl overflow-hidden shadow-2xl">
            
            <!-- Resultat Tabell (Visas på Dator/Tablets) -->
            <div class="hidden md:block overflow-x-auto">
                <table class="w-full text-left border-collapse">
                    <thead>
                        <tr class="bg-white/5 border-b border-white/5 text-xs uppercase tracking-wider text-slate-400 font-semibold">
                            <th class="p-5 w-1/5">Modell</th>
                            <th class="p-5 w-1/6">Olja & Volym</th>
                            <th class="p-5 w-1/6">Oljefilter</th>
                            <th class="p-5 w-1/6">Bränslefilter</th>
                            <th class="p-5 w-1/6">Impeller</th>
                            <th class="p-5 w-1/12 text-right">Typ</th>
                        </tr>
                    </thead>
                    <tbody id="oil-results-body" class="text-slate-300 text-sm divide-y divide-white/5">
                        <!-- JS fyller i denna -->
                    </tbody>
                </table>
            </div>

            <!-- Resultat Kort (Visas ENDAST på Mobil) -->
            <div id="mobile-results-body" class="md:hidden p-4 space-y-4">
                <!-- JS fyller i denna -->
            </div>
            
            <!-- Footer i panelen -->
            <div class="bg-slate-950/50 border-t border-white/5 p-4 text-center">
                <p class="text-xs text-slate-500">
                    ⚠️ Kontrollera alltid värden mot motorns serienummer och oljesticka.
                </p>
            </div>
        </div>

    </main>

    <footer class="text-center py-8 text-slate-600 text-sm">
        <p>&copy; 2025 Johans Serviceguide. All rights reserved.</p>
    </footer>

    <!-- JAVASCRIPT KOD -->
    <script>
        // --- DATABAS ÖVER MARINMOTORER OCH DREV ---
        const enginesDb = [
            // --- VOLVO PENTA DIESEL ---
            { model: "VP D1-13 / D1-20", cyl: "2/3", oil: "1.9/3.2 L (15W-40)", oil_filter: "3840525", fuel_filter: "861477", impeller: "22222936", type: "Diesel" },
            { model: "VP D1-30 / D2-40", cyl: "3/4", oil: "3.5/6.5 L (15W-40)", oil_filter: "3840525", fuel_filter: "861477", impeller: "22222936", type: "Diesel" },
            { model: "VP D2-50/55/60/75", cyl: "4", oil: "10.5 L (15W-40)", oil_filter: "3840525", fuel_filter: "861477", impeller: "21951346", type: "Diesel" },
            { model: "VP D3 (5-cyl)", cyl: "5", oil: "6.3 L (15W-40)", oil_filter: "8692305", fuel_filter: "31261191", impeller: "21951352", type: "Diesel" },
            { model: "VP D4-180/260/300", cyl: "4", oil: "12.5 L (15W-40)", oil_filter: "22030848 (By) / 22030852 (Full)", fuel_filter: "21718912", impeller: "3588475 / 21951356", type: "Diesel" },
            { model: "VP D6-310/370/435", cyl: "6", oil: "20.0 L (15W-40)", oil_filter: "22030848 (By) / 22030852 (Full)", fuel_filter: "21718912", impeller: "3588475 / 21951356", type: "Diesel" },
            { model: "VP MD2020", cyl: "3", oil: "2.8 L (15W-40)", oil_filter: "3840525", fuel_filter: "861477", impeller: "3593659", type: "Diesel" },
            { model: "VP MD2030/2040", cyl: "3/4", oil: "3.5/6.5 L (15W-40)", oil_filter: "3840525", fuel_filter: "861477", impeller: "22222936", type: "Diesel" },
            { model: "VP KAD 32", cyl: "4", oil: "9.0 L (15W-40)", oil_filter: "423135", fuel_filter: "21624740", impeller: "21951356", type: "Diesel" },
            { model: "VP KAD 42/43/44/300", cyl: "6", oil: "11.0 L (15W-40)", oil_filter: "423135", fuel_filter: "21624740", impeller: "21951356", type: "Diesel" },
            { model: "VP TAMD 41", cyl: "6", oil: "11.0 L (15W-40)", oil_filter: "423135", fuel_filter: "21624740", impeller: "21951356", type: "Diesel" },

            // --- VOLVO PENTA BENSIN ---
            { model: "VP 4.3/5.0/5.7 Gi/GXi", cyl: "V6/V8", oil: "4.5-5.7 L (Syntet 25W-40)", oil_filter: "835440 / 8692305 (Insats)", fuel_filter: "3862228", impeller: "21213660", type: "Bensin" },
            { model: "VP V6/V8 (Gen 5)", cyl: "V6/V8", oil: "5.7-7.1 L (Syntet)", oil_filter: "21695869 (Insats)", fuel_filter: "24332306", impeller: "22398561", type: "Bensin" },
            { model: "VP AQ130/145/151", cyl: "4", oil: "3.8 L (15W-40)", oil_filter: "3517857", fuel_filter: "-", impeller: "21951350", type: "Bensin" },

            // --- YANMAR DIESEL ---
            { model: "Yanmar 1GM10", cyl: "1", oil: "1.3 L (15W-40)", oil_filter: "119305-35151", fuel_filter: "104500-55710", impeller: "128100-42070", type: "Diesel" },
            { model: "Yanmar 2GM20/3GM30", cyl: "2/3", oil: "2.0/2.6 L (15W-40)", oil_filter: "119305-35151", fuel_filter: "104500-55710", impeller: "124223-42092", type: "Diesel" },
            { model: "Yanmar 3YM20/30", cyl: "3", oil: "2.8 L (15W-40)", oil_filter: "119305-35151", fuel_filter: "104500-55710", impeller: "128990-42200", type: "Diesel" },
            { model: "Yanmar 4JH4E", cyl: "4", oil: "5.5 L (15W-40)", oil_filter: "129150-35153", fuel_filter: "119802-55801", impeller: "129670-42531", type: "Diesel" },

            // --- MERCRUISER BENSIN ---
            { model: "Mercruiser 3.0L", cyl: "4", oil: "3.8 L (25W-40)", oil_filter: "35-866340Q03", fuel_filter: "35-802893Q01", impeller: "I drevet (Alpha)", type: "Bensin" },
            { model: "Mercruiser 4.3L V6", cyl: "V6", oil: "4.3 L (25W-40)", oil_filter: "35-866340Q03", fuel_filter: "35-802893Q01", impeller: "47-59362Q01", type: "Bensin" },
            { model: "Mercruiser 5.0/5.7L V8", cyl: "V8", oil: "4.7 L (25W-40)", oil_filter: "35-866340Q03", fuel_filter: "35-802893Q01", impeller: "47-59362Q01", type: "Bensin" },
            { model: "Mercruiser 8.1L (496)", cyl: "V8", oil: "8.5 L (25W-40)", oil_filter: "35-866340Q03", fuel_filter: "35-8M0047219", impeller: "47-862232A2", type: "Bensin" },

            // --- DREV & SEGELDREV ---
            { model: "VP DPH / DPI", cyl: "-", oil: "5.2-5.5 L (75W-90)", oil_filter: "-", fuel_filter: "-", impeller: "-", type: "Drev" },
            { model: "VP SX / DPS", cyl: "-", oil: "2.1-2.5 L (75W-90)", oil_filter: "-", fuel_filter: "-", impeller: "I drevet (SX)", type: "Drev" },
            { model: "VP 280 / 290 (SP)", cyl: "-", oil: "2.6 L (15W-40)", oil_filter: "-", fuel_filter: "-", impeller: "-", type: "Drev" },
            { model: "VP 290 DP / DP-E", cyl: "-", oil: "2.7 L (75W-90)", oil_filter: "-", fuel_filter: "-", impeller: "-", type: "Drev" },
            { model: "VP 110S / 120S", cyl: "-", oil: "2.2-2.6 L (15W-40)", oil_filter: "-", fuel_filter: "-", impeller: "-", type: "Drev" },
            { model: "VP 130S / 150S", cyl: "-", oil: "2.9-3.0 L (15W-40/75W-90)", oil_filter: "-", fuel_filter: "-", impeller: "-", type: "Drev" },
            { model: "Merc Alpha One Gen 2", cyl: "-", oil: "1.89 L (HP Grön)", oil_filter: "-", fuel_filter: "-", impeller: "47-43026Q06", type: "Drev" },
            { model: "Merc Bravo 1/2/3", cyl: "-", oil: "2.6-3.0 L (HP Grön)", oil_filter: "-", fuel_filter: "-", impeller: "På motor", type: "Drev" },
            { model: "Yanmar SD60", cyl: "-", oil: "2.8 L (15W-40)", oil_filter: "-", fuel_filter: "-", impeller: "-", type: "Drev" }
        ];

        // --- Huvudfunktion för att rendera tabell och kort ---
        function renderTable(list) {
            const tbody = document.getElementById("oil-results-body");
            const mobileContainer = document.getElementById("mobile-results-body");
            
            tbody.innerHTML = "";
            mobileContainer.innerHTML = "";

            if (list.length === 0) {
                const msg = `<div class="p-8 text-center text-slate-500 w-full italic">Inga motorer matchade din sökning.</div>`;
                tbody.innerHTML = `<tr><td colspan="6">${msg}</td></tr>`;
                mobileContainer.innerHTML = msg;
                return;
            }

            list.forEach(engine => {
                let badgeClass = "";
                let modelColor = "text-white";
                let typeLabel = engine.type;

                // Styling logic
                if (engine.type === "Bensin") {
                    badgeClass = "bg-rose-500/10 text-rose-400 border-rose-500/20";
                } else if (engine.type === "Drev") {
                    badgeClass = "bg-brand-500/10 text-brand-400 border-brand-500/20";
                } else {
                    badgeClass = "bg-emerald-500/10 text-emerald-400 border-emerald-500/20"; // Diesel
                }

                // 1. Desktop Row (Ren och minimal)
                const row = `
                <tr class="hover:bg-white/5 transition-colors group">
                    <td class="p-5 font-semibold text-white group-hover:text-brand-400 transition-colors">${engine.model}</td>
                    <td class="p-5 font-mono text-brand-400">${engine.oil}</td>
                    <td class="p-5 text-slate-400 font-mono text-xs">${engine.oil_filter || '-'}</td>
                    <td class="p-5 text-slate-400 font-mono text-xs">${engine.fuel_filter || '-'}</td>
                    <td class="p-5 text-slate-400 font-mono text-xs">${engine.impeller || '-'}</td>
                    <td class="p-5 text-right">
                        <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${badgeClass}">
                            ${typeLabel}
                        </span>
                    </td>
                </tr>
                `;
                tbody.innerHTML += row;

                // 2. Mobil Kort (Kortdesign med "border-l-4" accent)
                let borderClass = engine.type === "Bensin" ? "border-l-rose-500" : (engine.type === "Drev" ? "border-l-brand-500" : "border-l-emerald-500");
                
                const card = `
                <div class="glass-panel p-5 rounded-xl border-l-4 ${borderClass} relative overflow-hidden">
                    <div class="flex justify-between items-start mb-4">
                        <h3 class="font-bold text-white text-lg">${engine.model}</h3>
                        <span class="text-xs px-2 py-1 rounded-md border ${badgeClass}">${typeLabel}</span>
                    </div>
                    
                    <div class="space-y-3">
                        <div class="flex justify-between items-center py-2 border-b border-white/5">
                            <span class="text-xs uppercase tracking-wide text-slate-500">Olja & Volym</span>
                            <span class="font-mono font-bold text-brand-400">${engine.oil}</span>
                        </div>
                        <div class="grid grid-cols-2 gap-4 pt-1">
                            <div>
                                <span class="text-[10px] uppercase text-slate-500 block mb-1">Oljefilter</span>
                                <span class="font-mono text-sm text-slate-300 bg-white/5 px-2 py-1 rounded block w-full">${engine.oil_filter || '-'}</span>
                            </div>
                            <div>
                                <span class="text-[10px] uppercase text-slate-500 block mb-1">Bränslefilter</span>
                                <span class="font-mono text-sm text-slate-300 bg-white/5 px-2 py-1 rounded block w-full">${engine.fuel_filter || '-'}</span>
                            </div>
                            <div class="col-span-2">
                                <span class="text-[10px] uppercase text-slate-500 block mb-1">Impeller</span>
                                <span class="font-mono text-sm text-slate-300 bg-white/5 px-2 py-1 rounded block w-full">${engine.impeller || '-'}</span>
                            </div>
                        </div>
                    </div>
                </div>
                `;
                mobileContainer.innerHTML += card;
            });
        }

        // --- Sökfunktion ---
        function searchOil() {
            const query = document.getElementById("oil-search").value.toLowerCase();
            const clearBtn = document.querySelector('kbd');
            
            // Visa/dölj clear-hint
            if(query.length > 0 && clearBtn) clearBtn.style.opacity = '1';
            else if(clearBtn) clearBtn.style.opacity = '0';

            const filtered = enginesDb.filter(engine => {
                const searchStr = `${engine.model} ${engine.type} ${engine.oil_filter || ''} ${engine.fuel_filter || ''} ${engine.impeller || ''}`.toLowerCase();
                return searchStr.includes(query);
            });
            
            renderTable(filtered);
        }

        // Keyboard shortcut för att rensa
        document.addEventListener('keydown', function(event) {
            if (event.key === "Escape") {
                const input = document.getElementById("oil-search");
                if(input) {
                    input.value = "";
                    searchOil();
                    input.blur();
                }
            }
        });

        // --- Kör vid start ---
        document.addEventListener("DOMContentLoaded", () => {
            renderTable(enginesDb);
        });

    </script>
</body>
</html>